{"ast":null,"code":"import _objectSpread from\"/Users/lib-user/Desktop/tut 4 Submission/data-display-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useForm}from\"react-hook-form\";import axios from\"axios\";import\"./Form.css\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function UserLogin(){var _errors$email,_errors$email2,_errors$password,_errors$password2;var _useForm=useForm(),register=_useForm.register,errors=_useForm.formState.errors,handleSubmit=_useForm.handleSubmit;var navigate=useNavigate();var onSubmit=function onSubmit(data){console.log(data);axios.post(\"https://express-t4.onrender.com/api/login\",{username:data.email,password:data.password}).then(function(res){if(res.status===200){navigate('/grid');}}).catch(function(error){alert(\"Please give valid user name or password\");console.log(error);});};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-control\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"E-Mail Address\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({placeholder:\"Enter primary email\"},register(\"email\",{required:true,pattern:/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\\.[a-zA-Z0-9-.]+$/i}))),/*#__PURE__*/_jsxs(\"error\",{className:\"error-text\",children:[((_errors$email=errors.email)===null||_errors$email===void 0?void 0:_errors$email.type)===\"required\"&&\"Email is required\",((_errors$email2=errors.email)===null||_errors$email2===void 0?void 0:_errors$email2.type)===\"pattern\"&&\"Entered email is in wrong format\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-control\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"password\",placeholder:\"Enter password\"},register(\"password\",{required:true,minLength:8,pattern:/^[a-zA-Z0-9!@#_%~?/^*$&()\\\\-`.+,/\\\"]*$/}))),/*#__PURE__*/_jsxs(\"error\",{className:\"error-text\",children:[((_errors$password=errors.password)===null||_errors$password===void 0?void 0:_errors$password.type)===\"minLength\"&&\"Minimum limit is 8 characters\",((_errors$password2=errors.password)===null||_errors$password2===void 0?void 0:_errors$password2.type)===\"pattern\"&&\"Entered password is in wrong format\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-actions\",children:/*#__PURE__*/_jsx(\"button\",{children:\"Submit\"})})]});}","map":{"version":3,"names":["useForm","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","UserLogin","_errors$email","_errors$email2","_errors$password","_errors$password2","_useForm","register","errors","formState","handleSubmit","navigate","onSubmit","data","console","log","post","username","email","password","then","res","status","catch","error","alert","children","className","htmlFor","_objectSpread","placeholder","required","pattern","type","minLength"],"sources":["/Users/lib-user/Desktop/tut 4 Submission/data-display-app/src/component/UserLogin.js"],"sourcesContent":["import { useForm } from \"react-hook-form\";\nimport axios from \"axios\";\n\nimport \"./Form.css\";\nimport { useNavigate } from \"react-router-dom\";\n\nexport default function UserLogin() {\n  const {\n    register,\n    formState: { errors },\n    handleSubmit,\n  } = useForm();\n\n\n  const navigate = useNavigate();\n\n  const onSubmit = (data) => {\n    console.log(data);\n    axios\n      .post(`https://express-t4.onrender.com/api/login`, {\n        username: data.email,\n        password: data.password,\n      })\n      .then((res) => {\n        if (res.status === 200) {\n          navigate('/grid');\n        } \n      })\n      .catch((error) => {\n        alert(\"Please give valid user name or password\")\n        console.log(error);\n        \n      });\n  };\n\n  return (\n    <form onSubmit={handleSubmit(onSubmit)}>\n      <div className=\"form-control\">\n        <label htmlFor=\"name\">E-Mail Address</label>\n        <input\n          placeholder=\"Enter primary email\"\n          {...register(\"email\", {\n            required: true,\n            pattern: /^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\\.[a-zA-Z0-9-.]+$/i,\n          })}\n        />\n        <error className=\"error-text\">\n          {errors.email?.type === \"required\" && \"Email is required\"}\n          {errors.email?.type === \"pattern\" &&\n            \"Entered email is in wrong format\"}\n        </error>\n      </div>\n\n      <div className=\"form-control\">\n        <label htmlFor=\"name\">Password</label>\n        <input\n          type=\"password\"\n          placeholder=\"Enter password\"\n          {...register(\"password\", {\n            required: true,\n            minLength: 8,\n            pattern: /^[a-zA-Z0-9!@#_%~?/^*$&()\\\\-`.+,/\\\"]*$/,\n          })}\n        />\n        <error className=\"error-text\">\n          {errors.password?.type === \"minLength\" &&\n            \"Minimum limit is 8 characters\"}\n          {errors.password?.type === \"pattern\" &&\n            \"Entered password is in wrong format\"}\n        </error> \n      </div>\n\n      <div className=\"form-actions\">\n        <button>Submit</button>\n      </div>\n    </form>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}